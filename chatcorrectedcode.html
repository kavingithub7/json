<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <h2>Looping an Array</h2>
    <p id="demo2"></p>
    <button onclick="showTable()">A-Z</button>
    <button onclick="showTable1()">Z-A</button>
    <p id="demo"></p>
    <p id="demo1"></p>
    <script>
        const myJSON = `{
            "result": [
                {
                    "name": "John",
                    "marks": {
                        "math": "78",
                        "english": "90",
                        "chemistry": "64",
                        "physics": "89"
                    }
                },
                {
                    "name": "Mike",
                    "marks": {
                        "math": "67",
                        "english": "86",
                        "chemistry": "59",
                        "physics": "70"
                    }
                },
                {
                    "name": "Julia",
                    "marks": {
                        "math": "82",
                        "english": "75",
                        "chemistry": "73",
                        "physics": "84"
                    }
                },
                {
                    "name": "Tom",
                    "marks": {
                        "math": "76",
                        "english": "64",
                        "chemistry": "59",
                        "physics": "72"
                    }
                },
                {
                    "name": "Barbara",
                    "marks": {
                        "math": "90",
                        "english": "85",
                        "chemistry": "88",
                        "physics": "92"
                    }
                }
            ]
        }`;

        const myObj = JSON.parse(myJSON);
        var result = myObj.result;

        function createTable(data) {
            var table = "<table border=1>";
            // add a row for name and marks
            table += `<tr>
                        <th>Name</th>
                        <th colspan="4">Marks</th>
                      </tr>`;
            table += `<tr>
                        <th></th>
                        <th>Math</th>
                        <th>English</th>
                        <th>Chemistry</th>
                        <th>Physics</th>
                    </tr>`;

            var tr = "";
            for (let i = 0; i < data.length; i++) {
                tr += "<tr>";
                tr += `<td>${data[i].name}</td>`;
                for (var key in data[i].marks) {
                    tr += `<td>${data[i].marks[key]}</td>`;
                }
                tr += "</tr>";
            }

            table += tr + "</table>";
            return table;
        }

        document.getElementById("demo2").innerHTML = createTable(result);

        function GetSortOrder(prop) {
            return function (a, b) {
                if (a[prop] > b[prop]) {
                    return 1;
                } else if (a[prop] < b[prop]) {
                    return -1;
                }
                return 0;
            };
        }

        function GetdSortOrder(prop) {
            return function (a, b) {
                if (a[prop] > b[prop]) {
                    return -1;
                } else if (a[prop] < b[prop]) {
                    return 1;
                }
                return 0;
            };
        }

        function showTable() {
            var sortedResult = [...result].sort(GetSortOrder("name"));
            document.getElementById("demo2").innerHTML = createTable(sortedResult);
        }

        function showTable1() {
            var sortedResult = [...result].sort(GetdSortOrder("name"));
            document.getElementById("demo2").innerHTML = createTable(sortedResult);
        }
    </script>
</body>
</html>
